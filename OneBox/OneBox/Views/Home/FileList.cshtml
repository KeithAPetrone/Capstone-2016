@{
    ViewBag.Title = "FileList";
}
<html>
<head>
    <title>File List</title>
    <link href="@Url.Content("~/Content/Site.css")" rel="stylesheet" type="text/css" />
</head>
<body>
    @{
        IEnumerable<Google.Apis.Drive.v2.Data.File> googleList = (IEnumerable<Google.Apis.Drive.v2.Data.File>)TempData["GoogleResult"];
        //IEnumerable<DropboxRestAPI.Models.Core.MetaData> dropboxList = (List<DropboxRestAPI.Models.Core.MetaData>)TempData["DropBoxResult"];
        //DropBoxDownloader d = (DropBoxDownloader)TempData["DropBoxDownloader"];
    }

    <br /><br /><div class="nowrap">Your Cloud Storage files:
    <br /><br />
    Add files with this:


    <form action="@Url.Action("Upload", "Home")" method="post" enctype="multipart/form-data">

        <label for="file">File Name:</label>
        <input type="file" name="file" id="file" />

        <input type="submit" />
    </form>
    <br />
    Search for files:

    <form action="" method="post" enctype="multipart/form-data">

        <label for="file">Criteria:</label>
        <input type="search" name="search" id="search" />

        <input type="submit" />
    </form>
    </div>

    <div  class="fileslist">
        @{
            try
            {
                <ul class="rig">
                    @{
                        for (int j = 0; j < googleList.Count(); j++)
                        {
                            <li>
                                <p class="filename">@googleList.ElementAt(j).Title</p>
                                @{
                                    if (@googleList.ElementAt(j).ThumbnailLink == null)
                                    {
                                        <a class="downloadLink" href="@googleList.ElementAt(j).AlternateLink"/>
                                    }
                                    <a href="@googleList.ElementAt(j).AlternateLink"><img src="@googleList.ElementAt(j).ThumbnailLink" /></a>
                                    j++;
                                }
                            </li>

                                    }
                                    }

                </ul>
                                        }
                                        catch (ArgumentNullException e) { }
                                    }

    </div>
    @*<br /><br /><p>Your DropBox files:</p>
    <table border="1">
        @{
            try
            {
                for (int i = 0; i < dropboxList.Count(); i++)
                {
                    <tr>
                        @{
                            for (int j = 0; j < 5 && i < dropboxList.Count(); j++)
                            {
                                <td>
                                    <p>@dropboxList.ElementAt(i).Name</p>
                                    <a href="" onclick="@{ var tempFile = @"C:\Users\OneBox\Downloads\" + dropboxList.ElementAt(i).Name;
using (var fileStream = System.IO.File.OpenWrite(tempFile))
{
d.client.Core.Metadata.FilesAsync(dropboxList.ElementAt(i).path, fileStream);
} }">Download here!</a>
                                    @{ i++; }
                                </td>
                                        }
                        }
                    </tr>
                                            }
                                        }
                                        catch (ArgumentNullException e) { }
        }
    </table>*@
</body>
</html>